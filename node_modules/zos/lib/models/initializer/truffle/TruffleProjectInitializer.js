"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = __importDefault(require("path"));
const Truffle_1 = __importDefault(require("./Truffle"));
const zos_lib_1 = require("zos-lib");
const TruffleProjectInitializer = {
    call(root = process.cwd()) {
        this._initContractsDir(root);
        this._initMigrationsDir(root);
        this._initTruffleConfig(root);
    },
    _initContractsDir(root) {
        const contractsDir = `${root}/contracts`;
        this._initDir(contractsDir);
    },
    _initMigrationsDir(root) {
        const migrationsDir = `${root}/migrations`;
        this._initDir(migrationsDir);
    },
    _initTruffleConfig(root) {
        if (!Truffle_1.default.existsTruffleConfig(root)) {
            const blueprint = path_1.default.resolve(__dirname, './blueprint.truffle.js');
            zos_lib_1.FileSystem.copy(blueprint, `${root}/truffle-config.js`);
        }
    },
    _initDir(dir) {
        if (!zos_lib_1.FileSystem.exists(dir)) {
            zos_lib_1.FileSystem.createDir(dir);
            zos_lib_1.FileSystem.write(`${dir}/.gitkeep`, '');
        }
    },
};
exports.default = TruffleProjectInitializer;
//# sourceMappingURL=TruffleProjectInitializer.js.map