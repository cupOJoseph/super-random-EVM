#! /usr/bin/env node
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const zos_lib_1 = require("zos-lib");
const lockfile_1 = require("lockfile");
const program_1 = __importDefault(require("./program"));
// Acquire file lock to ensure no other instance is running
const LOCKFILE = '.zos.lock';
try {
    lockfile_1.lockSync(LOCKFILE, { retries: 0 });
}
catch (e) {
    console.error(`Cannot run more than one instance of 'zos' at the same time.\nIf you are sure that no other instances are actually running, manually remove the file ${LOCKFILE} and try again.`);
    process.exit(1);
}
zos_lib_1.Logger.silent(false);
program_1.default.parse(process.argv);
if (program_1.default.args.length === 0)
    program_1.default.help();
//# sourceMappingURL=zos-cli.js.map